import{i as y,r as v,g as f,u as U,j as _,c as x,b as a,w as d,d as V,h as B,e as r,o as I,f as c}from"./index-mn_G5VyT.js";const h=y("user",()=>{const i=v([]);function m(t){return this.users.find(e=>e.id===parseInt(t))}async function s(t){try{const e=await f.get("/api/user/"+t);this.users.push(e.data.user),console.log("Call getUser() in actions")}catch(e){console.log(e),window.alert("예상치 못한 오류가 발생했습니다.")}}return{users:i,getUserById:m,getUser:s}}),C={class:"container"},k=V("h3",{class:"page-title"},"회원 정보",-1),N={class:"btn-center-box"},z={__name:"UserDetail",setup(i){const s=U().params.id,t=h(),e=v({}),w=()=>{window.confirm("삭제하시겠습니까?")&&f.delete("/api/user/"+s).then(u=>{u.data.code===0?(window.alert("삭제가 완료되었습니다."),B.push({path:"/"})):window.alert("오류가 발생했습니다. 다시 시도해주세요.")}).catch(u=>{console.log(u),window.alert("예상치 못한 오류가 발생했습니다.")})};return _(async()=>{t.getUserById(s)||await t.getUser(s),e.value=t.getUserById(s)}),t.getUserById(s)?console.log("데이터 있음"):console.log("데이터 없음"),(u,l)=>{const n=r("v-text-field"),b=r("v-form"),g=r("v-sheet"),p=r("v-btn");return I(),x("div",C,[k,a(g,{width:"400",class:"mx-auto"},{default:d(()=>[a(b,null,{default:d(()=>[a(n,{label:"name",modelValue:e.value.name,"onUpdate:modelValue":l[0]||(l[0]=o=>e.value.name=o),readonly:""},null,8,["modelValue"]),a(n,{label:"username",modelValue:e.value.username,"onUpdate:modelValue":l[1]||(l[1]=o=>e.value.username=o),readonly:""},null,8,["modelValue"]),a(n,{label:"email",modelValue:e.value.email,"onUpdate:modelValue":l[2]||(l[2]=o=>e.value.email=o),readonly:""},null,8,["modelValue"]),a(n,{label:"address",modelValue:e.value.address,"onUpdate:modelValue":l[3]||(l[3]=o=>e.value.address=o),readonly:""},null,8,["modelValue"]),a(n,{label:"phone",modelValue:e.value.phone,"onUpdate:modelValue":l[4]||(l[4]=o=>e.value.phone=o),readonly:""},null,8,["modelValue"]),a(n,{label:"website",modelValue:e.value.website,"onUpdate:modelValue":l[5]||(l[5]=o=>e.value.website=o),readonly:""},null,8,["modelValue"]),a(n,{label:"company",modelValue:e.value.company,"onUpdate:modelValue":l[6]||(l[6]=o=>e.value.company=o),readonly:""},null,8,["modelValue"])]),_:1})]),_:1}),V("div",N,[a(p,{to:"/user/update/"+e.value.id,class:"first-btn",variant:"flat",color:"#5865f2",size:"large"},{default:d(()=>[c("수정")]),_:1},8,["to"]),a(p,{onClick:l[7]||(l[7]=o=>w()),class:"second-btn",variant:"flat",color:"#5865f2",size:"large"},{default:d(()=>[c("삭제")]),_:1})])])}}};export{z as default};
